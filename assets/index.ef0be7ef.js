/* empty css                                              */import{c as d,a as m}from"./_vue-router@4.1.3@vue-router.486f88ab.js";import{c as h}from"./_vuex@4.0.2@vuex.fed82782.js";import{v as _}from"./_@ts-pro_vue-eternal-loading@1.2.0@@ts-pro.13b8ee7d.js";import"./_@vue_devtools-api@6.2.1@@vue.8ef49068.js";const g=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function s(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerpolicy&&(o.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?o.credentials="include":r.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=s(r);fetch(r.href,o)}};g();const y={name:"App",created(){sessionStorage.getItem("store")&&this.$store.replaceState(Object.assign({},this.$store.state,JSON.parse(sessionStorage.getItem("store")))),window.addEventListener("beforeunload",()=>{sessionStorage.setItem("store",JSON.stringify(this.$store.state))})}},b=Object.assign(y,{setup(e){return(t,s)=>{const n=Vue.resolveComponent("router-view");return Vue.openBlock(),Vue.createBlock(n)}}}),L="modulepreload",S=function(e){return"/"+e},a={},v=function(t,s,n){return!s||s.length===0?t():Promise.all(s.map(r=>{if(r=S(r),r in a)return;a[r]=!0;const o=r.endsWith(".css"),c=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${c}`))return;const i=document.createElement("link");if(i.rel=o?"stylesheet":L,o||(i.as="script",i.crossOrigin=""),i.href=r,document.head.appendChild(i),o)return new Promise((f,p)=>{i.addEventListener("load",f),i.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>t())},l=h({state(){return{count:0,profile:{},collapse:!1,shelf:[],bid:"",chapters:[],chapterIdx:0,bookInfo:{}}},mutations:{increment(e){e.count++},set_profile(e,t){e.profile=t},logout(e){e.profile={}},set_shelf(e,t){(t===void 0||t===""||t==null)&&(t=[]),e.shelf=t},set_bid(e,t){e.bid=t},set_chapterIdx(e,t){e.chapterIdx=t},set_chapters(e,t){e.chapters=t},set_book_info(e,t){e.bookInfo=t}},getters:{getChapter(e){return e.chapters[e.chapterIdx]}}}),E=[{path:"/",redirect:"/home"},{path:"/home",component:()=>v(()=>import("./Home.b4aba8a2.js"),["assets/Home.b4aba8a2.js","assets/Home.a8386803.css","assets/_ant-design-vue@3.2.4e470214.css","assets/_axios@0.23.0@axios.3dc8474c.js","assets/_@ts-pro_vue-eternal-loading@1.2.0@@ts-pro.13b8ee7d.js","assets/_vue-router@4.1.3@vue-router.486f88ab.js","assets/_vuex@4.0.2@vuex.fed82782.js","assets/_@vue_devtools-api@6.2.1@@vue.8ef49068.js"])}],u=d({history:m(),routes:E,scrollBehavior(e,t,s){return s||{top:0}}});u.beforeEach((e,t,s)=>{if(!e.meta.needToken)s();else{var n=l.state.profile.token;n!=null&&n!=""&&n!=null?s():s({path:"/login"})}});Vue.createApp(b).use(_.exports.VueEternalLoading).use(l).use(u).use(antd).mount("#app");export{u as r,l as s};
