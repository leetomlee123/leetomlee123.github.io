import{A as f}from"./_ant-design-vue@3.2.10@ant-design-vue.acfca1e2.js";import{c as d}from"./_@vue_runtime-dom@3.2.37@@vue.c2295e1b.js";import{ai as h,ac as _,P as g}from"./_@vue_runtime-core@3.2.37@@vue.14a2a806.js";import{c as y,a as b}from"./_vue-router@4.1.3@vue-router.31ba7b38.js";import{c as L}from"./_vuex@4.0.2@vuex.f5f6627b.js";import{v as S}from"./_@ts-pro_vue-eternal-loading@1.2.0@@ts-pro.ea75f56e.js";import"./_@babel_runtime@7.18.9@@babel.f27e29b7.js";import"./_resize-observer-polyfill@1.5.1@resize-observer-polyfill.069db9bc.js";import"./_@vue_reactivity@3.2.37@@vue.f361355a.js";import"./_@vue_shared@3.2.37@@vue.1f15685f.js";import"./_vue-types@3.0.2@vue-types.ff7ca497.js";import"./_@ant-design_icons-vue@6.1.0@@ant-design.6901be0f.js";import"./_@ant-design_icons-svg@4.2.1@@ant-design.67722e5c.js";import"./_@ant-design_colors@6.0.0@@ant-design.f63ed091.js";import"./_@ctrl_tinycolor@3.4.1@@ctrl.fb3199b4.js";import"./_dom-align@1.12.3@dom-align.30a680d1.js";import"./_lodash-es@4.17.21@lodash-es.8abcf8d3.js";import"./_dayjs@1.11.4@dayjs.13f891c0.js";import"./_async-validator@4.2.5@async-validator.b8d521e8.js";import"./_scroll-into-view-if-needed@2.2.29@scroll-into-view-if-needed.d1b0cd52.js";import"./_compute-scroll-into-view@1.0.17@compute-scroll-into-view.78a38d38.js";import"./_@vue_devtools-api@6.2.1@@vue.8ef49068.js";import"./_vue@3.2.37@vue.f46dd202.js";const v=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function s(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerpolicy&&(o.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?o.credentials="include":r.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=s(r);fetch(r.href,o)}};v();const E={name:"App",created(){sessionStorage.getItem("store")&&this.$store.replaceState(Object.assign({},this.$store.state,JSON.parse(sessionStorage.getItem("store")))),window.addEventListener("beforeunload",()=>{sessionStorage.setItem("store",JSON.stringify(this.$store.state))})}},I=Object.assign(E,{setup(e){return(t,s)=>{const n=h("router-view");return _(),g(n)}}}),O="modulepreload",k=function(e){return"/"+e},c={},w=function(t,s,n){return!s||s.length===0?t():Promise.all(s.map(r=>{if(r=k(r),r in c)return;c[r]=!0;const o=r.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${a}`))return;const i=document.createElement("link");if(i.rel=o?"stylesheet":O,o||(i.as="script",i.crossOrigin=""),i.href=r,document.head.appendChild(i),o)return new Promise((u,m)=>{i.addEventListener("load",u),i.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>t())},l=L({state(){return{count:0,profile:{},collapse:!1,shelf:[],bid:"",chapters:[],chapterIdx:0,bookInfo:{}}},mutations:{increment(e){e.count++},set_profile(e,t){e.profile=t},logout(e){e.profile={}},set_shelf(e,t){(t===void 0||t===""||t==null)&&(t=[]),e.shelf=t},set_bid(e,t){e.bid=t},set_chapterIdx(e,t){e.chapterIdx=t},set_chapters(e,t){e.chapters=t},set_book_info(e,t){e.bookInfo=t}},getters:{getChapter(e){return e.chapters[e.chapterIdx]}}}),A=[{path:"/",redirect:"/home"},{path:"/home",component:()=>w(()=>import("./Home.963f0b5a.js"),["assets/Home.963f0b5a.js","assets/Home.a8386803.css","assets/_axios@0.23.0@axios.23415add.js","assets/_@babel_runtime@7.18.9@@babel.f27e29b7.js","assets/_ant-design-vue@3.2.10@ant-design-vue.acfca1e2.js","assets/_ant-design-vue@3.2.3be700cf.css","assets/_resize-observer-polyfill@1.5.1@resize-observer-polyfill.069db9bc.js","assets/_@vue_runtime-core@3.2.37@@vue.14a2a806.js","assets/_@vue_reactivity@3.2.37@@vue.f361355a.js","assets/_@vue_shared@3.2.37@@vue.1f15685f.js","assets/_vue-types@3.0.2@vue-types.ff7ca497.js","assets/_@vue_runtime-dom@3.2.37@@vue.c2295e1b.js","assets/_@ant-design_icons-vue@6.1.0@@ant-design.6901be0f.js","assets/_@ant-design_icons-svg@4.2.1@@ant-design.67722e5c.js","assets/_@ant-design_colors@6.0.0@@ant-design.f63ed091.js","assets/_@ctrl_tinycolor@3.4.1@@ctrl.fb3199b4.js","assets/_dom-align@1.12.3@dom-align.30a680d1.js","assets/_lodash-es@4.17.21@lodash-es.8abcf8d3.js","assets/_dayjs@1.11.4@dayjs.13f891c0.js","assets/_async-validator@4.2.5@async-validator.b8d521e8.js","assets/_scroll-into-view-if-needed@2.2.29@scroll-into-view-if-needed.d1b0cd52.js","assets/_compute-scroll-into-view@1.0.17@compute-scroll-into-view.78a38d38.js","assets/_vue-router@4.1.3@vue-router.31ba7b38.js","assets/_vuex@4.0.2@vuex.f5f6627b.js","assets/_@vue_devtools-api@6.2.1@@vue.8ef49068.js","assets/_@ts-pro_vue-eternal-loading@1.2.0@@ts-pro.ea75f56e.js","assets/_vue@3.2.37@vue.f46dd202.js"])}],p=y({history:b(),routes:A,scrollBehavior(e,t,s){return s||{top:0}}});p.beforeEach((e,t,s)=>{if(!e.meta.needToken)s();else{var n=l.state.profile.token;n!=null&&n!=""&&n!=null?s():s({path:"/login"})}});d(I).use(S.exports.VueEternalLoading).use(l).use(p).use(f).mount("#app");export{p as r,l as s};
